<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Authentication · JuliaHub.jl</title><meta name="title" content="Authentication · JuliaHub.jl"/><meta property="og:title" content="Authentication · JuliaHub.jl"/><meta property="twitter:title" content="Authentication · JuliaHub.jl"/><meta name="description" content="Documentation for JuliaHub.jl."/><meta property="og:description" content="Documentation for JuliaHub.jl."/><meta property="twitter:description" content="Documentation for JuliaHub.jl."/><meta property="og:url" content="https://help.juliahub.com/julia-api/stable/reference/authentication/"/><meta property="twitter:url" content="https://help.juliahub.com/julia-api/stable/reference/authentication/"/><link rel="canonical" href="https://help.juliahub.com/julia-api/stable/reference/authentication/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaHub.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting-started/">Getting Started</a></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="../../guides/authentication/">Authentication</a></li><li><a class="tocitem" href="../../guides/datasets/">Datasets</a></li><li><a class="tocitem" href="../../guides/jobs/">Jobs</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li class="is-active"><a class="tocitem" href>Authentication</a><ul class="internal"><li><a class="tocitem" href="#Token-expiration-and-refresh-tokens"><span>Token expiration and refresh tokens</span></a></li><li><a class="tocitem" href="#Reference"><span>Reference</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="../job-submission/">Job submission</a></li><li><a class="tocitem" href="../jobs/">Jobs</a></li><li><a class="tocitem" href="../datasets/">Datasets</a></li><li><a class="tocitem" href="../exceptions/">Exceptions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>Authentication</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Authentication</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaComputing/JuliaHub.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaComputing/JuliaHub.jl/blob/main/docs/src/reference/authentication.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="authentication"><a class="docs-heading-anchor" href="#authentication">Authentication</a><a id="authentication-1"></a><a class="docs-heading-anchor-permalink" href="#authentication" title="Permalink"></a></h1><p>In order to talk to a JuliaHub instance, you need to have a valid authentication token. JuliaHub reuses the Julia&#39;s built-in package server authentication tokens for this purpose. By default, the authentication uses the <code>JULIA_PKG_SERVER</code> environment variable to determine which JuliaHub instance to connect to, but this can be overridden by passing an argument to <a href="#JuliaHub.authenticate"><code>authenticate</code></a>.</p><p>The <a href="#JuliaHub.authenticate"><code>authenticate</code></a> function can be used to construct a token. If a valid token is available in <code>~/.julia/servers</code>, it gets reused. Otherwise, a browser window is opened, starting an interactive authentication procedure.</p><p>All the functions that require authentication accept an <code>auth</code> keyword argument. However, JuliaHub.jl also stores the authentication token from the last <a href="#JuliaHub.authenticate"><code>authenticate</code></a> call in a global variable and automatically uses that if <code>auth</code> is not provided, and also tries to authenticate automatically. The current global authentication object can be accessed via the <a href="#JuliaHub.current_authentication"><code>current_authentication()</code></a> function.</p><p>See also: <a href="../../guides/authentication/">authentication guide</a>, <a href="https://help.juliahub.com/juliahub/stable/ref/#authentication&gt;">authentication section on <code>help.juliahub.com</code></a>, <a href="https://github.com/JuliaComputing/PkgAuthentication.jl/">PkgAuthentication</a>.</p><h2 id="Token-expiration-and-refresh-tokens"><a class="docs-heading-anchor" href="#Token-expiration-and-refresh-tokens">Token expiration and refresh tokens</a><a id="Token-expiration-and-refresh-tokens-1"></a><a class="docs-heading-anchor-permalink" href="#Token-expiration-and-refresh-tokens" title="Permalink"></a></h2><p>By default, JuliaHub access tokens expire in 24 hours. However, the tokens usually also have a refresh token, which is valid for 30 days. If the access token has expired, but there is a valid refresh token available, <a href="#JuliaHub.authenticate"><code>authenticate</code></a> will automatically try to use that, to re-acquire an access token without starting an interactive authentication.</p><p>In JuliaHub job and cloud IDE environments, the authentication token on disk will be continuously kept up to date. The <a href="#JuliaHub.reauthenticate!"><code>reauthenticate!</code></a> function can be used to reload the token from disk.</p><h2 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaHub.authenticate" href="#JuliaHub.authenticate"><code>JuliaHub.authenticate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">JuliaHub.authenticate(server = Pkg.pkg_server(); force::Bool = false, maxcount::Integer = 3, [hook::Base.Callable])</code></pre><p>Authenticates with a JuliaHub server. If a valid authentication token does not exist in the Julia depot, a new token is acquired via an interactive browser based prompt. Returns an <a href="../../getting-started/#Authentication"><code>Authentication</code></a> object if the authentication was successful, or throws an <a href="../exceptions/#JuliaHub.AuthenticationError"><code>AuthenticationError</code></a> if authentication fails.</p><p>The interactive prompts tries to authenticate for a maximum of <code>maxcount</code> times. If <code>force</code> is set to <code>true</code>, an existing authentication token is first deleted. This can be useful when the existing authentication token is causing the authentication to fail.</p><p><strong>Extended help</strong></p><p>By default, it attemps to connect to the currently configured Julia package server URL (configured e.g. via the <code>JULIA_PKG_SERVER</code> environment variable). However, this can be overridden by passing the <code>server</code> argument.</p><p><code>hook</code> can be set to a function taking a single string-type argument, and will be passed the authorization URL the user should interact with in the browser. This can be used to override the default behavior coming from <a href="https://github.com/JuliaComputing/PkgAuthentication.jl">PkgAuthentication</a>.</p><p>The returned <a href="../../getting-started/#Authentication"><code>Authentication</code></a> object is also cached globally (overwriting any previously cached authentications), making it unnecessary to pass the returned object manually to other function calls. This is useful for interactive use, but should not be used in library code, as different authentication calls may clash.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/JuliaHub.jl/blob/1a1c5a67d6ee08f5fda08b7ea29ec4074226015f/src/authentication.jl#L159-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaHub.Authentication" href="#JuliaHub.Authentication"><code>JuliaHub.Authentication</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct Authentication</code></pre><p>Authentication object constructed by the <a href="#JuliaHub.authenticate"><code>authenticate</code></a> function that can be passed to the various JuliaHub.jl function via the <code>auth</code> keyword argument.</p><p>Objects have the following properties:</p><ul><li><code>server :: URIs.URI</code>: URL of the JuliaHub instance this authentication token applies to.</li><li><code>username :: String</code>: user&#39;s JuliaHub username (used for e.g. to namespace datasets)</li><li><code>token :: JuliaHub.Secret</code>: a <a href="#JuliaHub.Secret"><code>Secret</code></a> object storing the JuliaHub authentication token</li></ul><p>Note that the object is mutable, and hence will be shared as it is passed around. And at the same time, functions such as <a href="#JuliaHub.reauthenticate!"><code>reauthenticate!</code></a> may modify the object.</p><p>See also: <a href="#JuliaHub.authenticate"><code>authenticate</code></a>, <a href="#JuliaHub.reauthenticate!"><code>reauthenticate!</code></a>, <a href="#JuliaHub.current_authentication"><code>current_authentication</code></a>.</p><div class="admonition is-compat"><header class="admonition-header">No public constructors</header><div class="admonition-body"><p>Objects of this type should not be constructed explicitly. The contructor methods are not considered to be part of the public API.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/JuliaHub.jl/blob/1a1c5a67d6ee08f5fda08b7ea29ec4074226015f/src/authentication.jl#L18-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaHub.current_authentication" href="#JuliaHub.current_authentication"><code>JuliaHub.current_authentication</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">JuliaHub.current_authentication() -&gt; Union{Authentication, Nothing}</code></pre><p>Returns the current globally active <a href="../../getting-started/#Authentication"><code>Authentication</code></a> object, or <code>nothing</code> if <a href="#JuliaHub.authenticate"><code>authenticate</code></a> has not yet been called.</p><pre><code class="language-julia-repl hljs">julia&gt; JuliaHub.current_authentication()
JuliaHub.Authentication(&quot;https://juliahub.com&quot;, &quot;username&quot;, *****)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Calling this function will not initialize authentication.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/JuliaHub.jl/blob/1a1c5a67d6ee08f5fda08b7ea29ec4074226015f/src/authentication.jl#L119-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaHub.check_authentication" href="#JuliaHub.check_authentication"><code>JuliaHub.check_authentication</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">JuliaHub.check_authentication(; [auth::Authentication]) -&gt; Bool</code></pre><p>Checks if the authentication to a JuliaHub instance is still valid or not.</p><p>This can be used to periodically check an authentication token, to see if it is necessary to re-authenticate.</p><p>See also: <a href="#JuliaHub.reauthenticate!"><code>reauthenticate!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/JuliaHub.jl/blob/1a1c5a67d6ee08f5fda08b7ea29ec4074226015f/src/authentication.jl#L345-L354">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaHub.reauthenticate!" href="#JuliaHub.reauthenticate!"><code>JuliaHub.reauthenticate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">JuliaHub.reauthenticate!([auth::Authentication]; force::Bool = false, maxcount::Integer = 3, [hook::Base.Callable])</code></pre><p>Attempts to update the authentication token in <code>auth</code>:</p><ul><li>If the original <code>auth.toml</code> file has been updated, it simply reloads the token from the file.</li><li>If loading from <code>auth.toml</code> fails or <code>force=true</code>, it will attempt to re-authenticate with the server, possibly interactively.</li></ul><p>If <code>auth</code> is omitted, it will reauthenticate the global <a href="../../getting-started/#Authentication"><code>Authentication</code></a> object. The <code>force</code>, <code>maxcount</code> and <code>hook</code> are relevant for interactive authentication, and behave the same way as in the <a href="#JuliaHub.authenticate"><code>authenticate</code></a> function.</p><p>This is mostly meant to be used to re-acquire authentication tokens in long-running sessions, where the initial authentication token may have expired.</p><p>As <a href="../../getting-started/#Authentication"><code>Authentication</code></a> objects are mutable, the token will be updated in all contexts where the reference to the <a href="../../getting-started/#Authentication"><code>Authentication</code></a> has been passed to.</p><p>See also: <a href="#JuliaHub.authenticate"><code>authenticate</code></a>, <a href="#JuliaHub.current_authentication"><code>current_authentication</code></a>, <a href="../../getting-started/#Authentication"><code>Authentication</code></a>, <a href="#JuliaHub.check_authentication"><code>check_authentication</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/JuliaHub.jl/blob/1a1c5a67d6ee08f5fda08b7ea29ec4074226015f/src/authentication.jl#L369-L390">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaHub.Secret" href="#JuliaHub.Secret"><code>JuliaHub.Secret</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct Secret</code></pre><p>A helper type for storing secrets. Internally it is a covenience wrapper around <code>Base.SecretBuffer</code>. Predominantly used in <a href="../../getting-started/#Authentication"><code>Authentication</code></a> objects to store the JuliaHub authentication token.</p><p>The <code>String(::Secret)</code> function can be used to obtain an unsecure string copy of the secret stored in the object.</p><pre><code class="language-julia-repl hljs">julia&gt; s = JuliaHub.Secret(&quot;secret-string&quot;)
JuliaHub.Secret(&quot;*******&quot;)

julia&gt; String(s)
&quot;secret-string&quot;</code></pre><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">Secret(::AbstractString)
Secret(::Vector{UInt8})</code></pre><p>Create a <code>Secret</code> object from the input strings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/JuliaHub.jl/blob/1a1c5a67d6ee08f5fda08b7ea29ec4074226015f/src/utils.jl#L179-L205">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#JuliaHub.Authentication"><code>JuliaHub.Authentication</code></a></li><li><a href="#JuliaHub.Secret"><code>JuliaHub.Secret</code></a></li><li><a href="#JuliaHub.authenticate"><code>JuliaHub.authenticate</code></a></li><li><a href="#JuliaHub.check_authentication"><code>JuliaHub.check_authentication</code></a></li><li><a href="#JuliaHub.current_authentication"><code>JuliaHub.current_authentication</code></a></li><li><a href="#JuliaHub.reauthenticate!"><code>JuliaHub.reauthenticate!</code></a></li></ul><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../guides/jobs/">« Jobs</a><a class="docs-footer-nextpage" href="../job-submission/">Job submission »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Monday 27 May 2024 07:59">Monday 27 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
